<html>
	<head></head>
	<body>
		<script src="wap-built.js"></script>
	
		<script>
			
			var c = new wap();
			var cc = new compiler();

/*


; Load 1 into $03
lda $00 ; Get random value over 0 
and $00 ; Preform and gate with same value, will always return 1
sta $02 ; Store 1 in $02

; Adding and subtracting
lda $03 ; Load value from working storage
add $00 ; Add first argument with value found in local storage
sta $03 ; Store in working storage
lda $01 ; Load second argument
sub $02 ; Decrement second argument
sta $01 ; Store

; Checking...
cmp $ff ; Compare second argument, to determine if operation is complete
jnz $09 ; Jump back if zero isn't set

; Cleanup
lda $03 ; Load final value
sta $00 ; Store at first location in RAM
lda $ff ; Load 0
sta $01 ; v
sta $02 ; Clear RAM
sta $03 ; ^
clf		; Clear flags

; Halt
hlt 	; Halt computer


*/
			
			
			c.RAM[0x00] = 3;
			c.RAM[0x01] = 23;
			
			
			c.ROM = "0";
			
			function run()
			{
				c.RUNNING = true;
				var cycles = 0;
			
				while (c.RUNNING && cycles < 50000)
				{
					c.execute(); 
					cycles++;
				}
				
				
			}
			
			function step(x)
			{
				for (i = 0; i < x; i++) {
					c.execute();
				}
				console.log(c);
			}
			
		</script>
	
	</body>
</html>